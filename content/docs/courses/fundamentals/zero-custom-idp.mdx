---
id: zero-custom-idp
title: Custom Identity Provider
description: In this guide, learn how to configure a custom identity provider in the Zero Console.
sidebar_label: 07. Custom Identity Provider
sidebar_position: 7
---

# Zero Fundamentals: Configure a Custom Identity Provider

So far, you've been using our [Hosted Authenticate service](/docs/capabilities/hosted-authenticate-service), which provides a hosted authenticate service URL (`authenticate.pomerium.app`) and Pomerium's hosted identity provider to authenticate users.

In this guide, you'll replace Pomerium's hosted identity provider with your own custom identity provider to handle authentication.

:::note Before you start

Make sure you've completed the following tutorials:

- [**Build a Simple Route**](/docs/courses/fundamentals/zero-build-routes)
- [**Build a Simple Policy**](/docs/courses/fundamentals/zero-build-policies)
- [**Single Sign-on with JWTs**](/docs/courses/fundamentals/zero-single-sign-on)
- [**Build Advanced Policies**](/docs/courses/fundamentals/zero-advanced-policies)
- [**Build Advanced Routes**](/docs/courses/fundamentals/zero-advanced-routes)
- [**Build TCP Routes**](/docs/courses/fundamentals/zero-tcp-routes)

Each tutorial builds on the same configuration files. In this guide, you'll replace our hosted identity provider solution with your own custom identity provider.

:::

## Choose an identity provider

You can integrate Pomerium with any identity provider (IdP) that supports the OAuth2.0 and OIDC protocols. For the purposes of this guide, we will use [GitHub](/docs/identity-providers/github) as the IdP (the configuration is simpler than other IdPs).

If you prefer to use another IdP instead of GitHub, feel free to do so. You can refer to our identity provider guides for setup instructions.

- [Apple](/docs/identity-providers/apple)
- [Auth0](/docs/identity-providers/auth0)
- [Microsoft Entra ID (Azure AD)](/docs/identity-providers/azure)
- [Cognito](/docs/identity-providers/cognito)
- [GitHub](/docs/identity-providers/github)
- [GitLab](/docs/identity-providers/gitlab)
- [Google](/docs/identity-providers/google)
- [Okta](/docs/identity-providers/okta)
- [OneLogin](/docs/identity-providers/one-login)
- [Ping Identity](/docs/identity-providers/ping)
- [OIDC](/docs/identity-providers/oidc)

## Configure your identity provider

In the Zero Console:

1. select **Settings**
1. Scroll to **Identity Provider**
1. Select **Custom Identity Provider**
1. In the **Identity Provider** dropdown, select **GitHub**
1. Enter your **Client ID** and **Client Secret**
1. Enter your **Authenticate Service URL**

If you still want to use Pomerium's authenticate service URL instead of your own, enter a URL with this format:

`authenticate.<CLUSTER_SUBDOMAIN>.pomerium.app`

![Configuring GitHub as an identity provider in Pomerium Zero](./img/zero-idp/zero-idp-settings.png)

Skip the advanced settings (unless you need to configure these for your IdP) and save your changes.

## Test the IdP integration

Now, when you access a route:

1. Pomerium will redirect you to the configured IdP to authenticate.
1. Upon successful authentication, the IdP will redirect you back to Pomerium's authenticate service with the Pomerium-managed service URL.
1. Pomerium's proxy service will forward your request to the upstream service.

![GIF demonstrating identity provider authentication flow with Pomerium.](./img/zero-idp/idp-flow.gif)

## Next Steps: Add a Custom Domain

That's it for our Pomerium Zero courses, but if you want to continue learning how to use Pomerium Zero, try adding a [Custom Domain](/docs/capabilities/custom-domains).

From there, you can also check out any of our [Guides](/docs/guides) to learn how to secure common apps and services behind Pomerium.
