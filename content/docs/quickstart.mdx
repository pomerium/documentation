---
# cSpell:ignore thisisunsafe, genkey, noout

title: Run Pomerium Core With Docker
lang: en-US
sidebar_label: Quickstart
pagination_prev: null
pagination_next: null
description: Get Pomerium up and running quickly with Docker.
keywords:
  [
    pomerium,
    identity access proxy,
    oidc,
    docker,
    reverse proxy,
    containers,
    identity aware proxy,
    quickstart pomerium,
    docker,
    docker-compose,
  ]
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Pomerium Zero Quickstart

The Zero Quickstart shows you how to install and run Pomerium Zero in a Docker container.

## Before you start

- Install [Docker](https://docs.docker.com/install/) and [Docker Compose](https://docs.docker.com/compose/install/)
- Create a (free) [**Pomerium Zero account**](https://console.pomerium.app/create-account)

## Get Pomerium Zero configuration

In the Zero onboarding screen, select the **Docker** tab and copy the Docker Compose configuration. (If you selected **Finish** before copying the Docker configuration, we've provided a copy below.)

Paste the configuration in a `compose.yaml` file:

```yaml title="compose.yaml" {8,15} showLineNumbers
services:
  pomerium:
    image: pomerium/pomerium:v0.27.0
    ports:
      - 443:443
    restart: always
    environment:
      POMERIUM_ZERO_TOKEN: <CLUSTER_TOKEN>
      XDG_CACHE_HOME: /var/cache
    volumes:
      - pomerium-cache:/var/cache
    networks:
      main:
        aliases:
        - verify.<CLUSTER_STARTER_SUBDOMAIN>.pomerium.app
  verify:
    image: cr.pomerium.com/pomerium/verify:latest
    networks:
      main:
        aliases:
        - verify

networks:
  main: {}

volumes:
  pomerium-cache:
```

Replace the following values:

- **Line 8**: Replace `CLUSTER_TOKEN` with the cluster token generated for you in the onboarding config
- **Line 15**: Replace `CLUSTER_STARTER_SUBDOMAIN` with your generated starter subdomain

:::info Where's my **Starter Domain?**

You can find your **Starter Domain** at the top of the Zero Console in the navigation bar.

:::


## Connect to Pomerium Zero

Next, deploy Pomerium Zero with the following command:

```bash
docker compose up -d
```

This command will deploy a local cluster running Pomerium in a Docker container. If your cluster deploys successfully, the Pomerium Zero cloud will attempt to secure a connection to your cluster.

If Pomerium Zero connects successfully, it will notify you in the onboarding screen.

![The successful connection notification in the Pomerium Zero onboarding flow](./img/quickstart/zero-quickstart-connection.png)

Once you've connected, select **Finish**.

:::info

See the [Clusters Concept] page to learn more about clusters and how they work with the Pomerium Zero cloud.

:::

## Connect to upstream services

In the Zero Console, we've provisioned two starter routes, **SSH** and **Verify**, that come with their own DNS records and TLS certificates:

![Viewing the two starter routes](./img/quickstart/pz-quickstart-routes.png)

### Connect to SSH

In a terminal, enter the following command and replace `CLUSTER_STARTER_DOMAIN` with your own:

```bash
pomerium-cli tcp ssh.<CLUSTER_STARTER_DOMAIN>.app:22
```

A successful request results in a response similar to the one below:

```shell-session
$ pomerium-cli tcp ssh.dominant-cowbird-8176.pomerium.app:22
2024/03/25 16:18:45 listening on 127.0.0.1:52541
```

:::note

If you haven't, install [**Pomerium CLI**](/docs/deploy/clients/pomerium-cli) with any of the following methods:

<Tabs>
<TabItem value="docker" label="Docker">

```bash
docker run cr.pomerium.com/pomerium/cli:latest
```

</TabItem>
<TabItem value="yum" label="Yum">

```bash
[pomerium-pomerium]
name=pomerium-pomerium
baseurl=https://dl.cloudsmith.io/public/pomerium/pomerium/rpm/el/$releasever/$basearch
repo_gpgcheck=1
enabled=1
gpgkey=https://dl.cloudsmith.io/public/pomerium/pomerium/gpg.6E388440B94E1407.key
gpgcheck=1
sslverify=1
pkg_gpgcheck=1
```

</TabItem>
<TabItem value="deb" label="Deb">

```bash
curl -1sLf 'https://dl.cloudsmith.io/public/pomerium/pomerium/gpg.6E388440B94E1407.key' | apt-key add -
echo "deb https://dl.cloudsmith.io/public/pomerium/pomerium/deb/debian buster main" > /etc/apt/sources.list.d/pomerium-pomerium.list
```

</TabItem>
<TabItem value="binaries" label="Binaries">

```bash
ARCH=[your arch]
OS=[your os]
VERSION=[desired version]
curl -L https://github.com/pomerium/cli/releases/download/${VERSION}/pomerium-cli-${OS}-${ARCH}.tar.gz \
    | tar -z -x
```

</TabItem>
<TabItem value="homebrew" label="Homebrew">

```bash
brew tap pomerium/tap
brew install pomerium-cli
```

</TabItem>
<TabItem value="source" label="Source">

```bash
git clone git@github.com:pomerium/cli.git
cd pomerium
make build
./bin/pomerium-cli --help
```

</TabItem>

</Tabs>

:::

### Connect to Verify

In the Zero Console, select the **From** URL for the **Verify** app.

You should land on the Verify page:

![The homepage of the Verify app after the user is redirected](./img/quickstart/pz-identity-verified.png)

## Review authorization policy

Select the **Policies** tab. In the policies table, you'll notice the **Any Authenticated User** policy.

![Reviewing the starter policy in the Zero Console](./img/quickstart/pz-quickstart-policy.png)

This is a simple policy that instructs Pomerium to allow all requests for authenticated users or service accounts. Because you authenticated successfully against our hosted identity provider, Pomerium granted you access to both the SSH and Verify services.

:::info **Build a Policy**

Check out our **Policies** guide to learn how to build more complex policies to secure your routes.

:::

## Review certificates

Pomerium automatically provisions and manages TLS certificates issued by ZeroSSL to secure the starter routes in your cluster, and any routes you may build that use your cluster's starter domain.

To see certificates in your cluster, go to the **Certificates** tab:

![View cluster certificates from ZeroSSL](./img/quickstart/cluster-certs.png)

:::info **Add a Certificate**

Check out the **Certificates** guide to learn how to import your own certificates to your cluster.

:::

## Next Steps

Now that you've completed the Pomerium Zero Quickstart, build your first route:

- **Pomerium Zero Fundamentals: Build Routes**
