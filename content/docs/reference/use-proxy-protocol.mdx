---
id: use-proxy-protocol
title: Use Proxy Protocol
keywords:
  - reference
  - Use Proxy Protocol
pagination_prev: null
pagination_next: null
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Use Proxy Protocol

## Summary

Setting **Use Proxy Protocol** will configure Pomerium to require the [HAProxy proxy protocol](https://www.haproxy.org/download/1.9/doc/proxy-protocol.txt) on incoming connections. Versions 1 and 2 of the protocol are supported.

## How to configure

<Tabs>
<TabItem value="Core" label="Core">

| **Config file keys** | **Environment variables** | **Type** | **Usage** | **Default** |
| :-- | :-- | :-- | :-- | :-- |
| `use_proxy_protocol` | `USE_PROXY_PROTOCOL` | `boolean` | **optional** | `false` |

</TabItem>
<TabItem value="Enterprise" label="Enterprise">

`use_proxy_protocol` is a bootstrap configuration setting and is not configurable in the Console.

</TabItem>
<TabItem value="Kubernetes" label="Kubernetes">

| **Annotation name** | **Type** | **Usage** | **Default** |
| :-- | :-- | :-- | :-- |
| `ingress.pomerium.io/use_proxy_protocol` | `boolean` | **optional** | `false` |

See Kubernetes [Ingress](/docs/deploy/k8s/ingress) for more information.

</TabItem>
</Tabs>

### Examples

```yaml
use_proxy_protocol: true

USE_PROXY_PROTOCOL=true
```
