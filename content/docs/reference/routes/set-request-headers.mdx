---
# cSpell:ignore cm9vdDpodW50ZXI0Mg

id: set-request-headers
title: Set Request Headers
keywords:
  - reference
  - Set Request Headers
  - set_request_headers
pagination_prev: null
pagination_next: null
---

import Tabs from '@theme/Tabs';
import TabItem from '@theme/TabItem';

# Set Request Headers

## Summary

**Set Request Headers** allows you to set both static and dynamic values in request headers for downstream applications.

You can use static header values to pass additional information to downstream applications, or to send static credentials in an Authorization header (see [Basic Authentication](https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Authorization#basic_authentication) for more information).

You can use dynamic header values to pass ID and Access tokens in your requests to downstream applications.

See the configuration options below for examples of static and dynamic headers applied to a route.

## How to configure

<Tabs>
<TabItem value="Core" label="Core">

| **YAML**/**JSON** setting | **Type** | **Usage**    |
| :------------------------ | :------- | :----------- |
| `set_request_headers`     | `string` | **optional** |

</TabItem>
<TabItem value="Enterprise" label="Enterprise">

Configure **Set Request Headers** in the Console:

![Set request headers in the console](../img/routes/headers/set-request-headers.png)

</TabItem>
<TabItem value="Kubernetes" label="Kubernetes">

| **Name**                                  | **Type** | **Usage**    |
| :---------------------------------------- | :------- | :----------- |
| `ingress.pomerium.io/set_request_headers` | `string` | **optional** |

See Kubernetes [Ingress](/docs/deploy/k8s/ingress#annotations) for more information

</TabItem>
</Tabs>

### Pass dynamic values in headers

| **Option** | **Value** | **Type** | **Usage** |
| :-- | :-- | :-- | :-- |
| `x-pomerium-downstream-id-token` | `$pomerium.id_token` | Map of key-value pairs | **optional** |
| `x-pomerium-downstream-access-token` | `$pomerium.access_token` | Map of key-value pairs | **optional** |

**Note:** Token values must use the `$pomerium.<token>` syntax.

### Examples

Pass static values as headers in the request:

```yaml
- from: https://verify.corp.example.com
  to: https://verify.pomerium.com
  policy:
    - allow:
        or:
          - email:
              is: user@example.com
  set_request_headers:
    # works auto-magically!
    # https://verify.corp.example.com/basic-auth/root/hunter42
    Authorization: Basic cm9vdDpodW50ZXI0Mg==
    X-Your-favorite-authenticating-Proxy: 'Pomerium'
```

Pass ID and Access tokens as dynamic headers in the request:

```yaml
- from: https://verify.corp.example.com
  to: https://verify.pomerium.com
  policy:
    - allow:
        or:
          - email:
              is: user@example.com
  set_request_headers:
    x-pomerium-downstream-id-token: $pomerium.id_token
    x-pomerium-downstream-access-token: $pomerium.access_token
```

:::warning

Neither `:-prefixed` pseudo-headers nor the `Host:` header may be modified via this mechanism. Those headers may instead be modified via mechanisms such as `prefix_rewrite`, `regex_rewrite`, and `host_rewrite`.

:::

To pass dynamic values from the user's OIDC claim to the upstream service, see [JWT Claim Headers](../jwt-claim-headers).
