# redirects will process the first matching rule it finds, reading from top to bottom.
# https://docs.netlify.com/routing/redirects/
/docs/reference/reference /docs/reference
/docs/reference/reference /docs/reference
/docs/configuration/ /docs/reference
/docs/config-reference /docs/reference
/configuration/ /docs/reference

/community/ /docs/community/
/community/index /docs/community/
/community/contributing /docs/community/contributing
/community/contributing /docs/community/contributing
/community/code-of-conduct /docs/community/code-of-conduct
/community/code-of-conduct /docs/community/code-of-conduct
/community/security /docs/internals/security
/community/security /docs/internals/security
/docs/community/security /docs/internals/security

/guide/ /docs/quick-start/
/guide/kubernetes /docs/k8s
/guide/kubernetes /docs/k8s
/docs/k8s /docs/deploying/k8s/quickstart
/guide/synology /docs/guides/synology
/guide/synology /docs/guides/synology
/docs/examples /docs/guides
/docs/examples /docs/guides

/recipes/ /docs/guides
/recipes/ad-guard /docs/guides/ad-guard
/recipes/argo /docs/guides/argo
/recipes/cloud-run /docs/guides/cloud-run
/recipes/istio /docs/guides/istio
/recipes/kubernetes /docs/guides/kubernetes
/recipes/local-oidc /docs/guides/local-oidc
/recipes/mtls /docs/guides/mtls
/recipes/vs-code-server /docs/guides/code-server
/guides/vs-code-server /docs/guides/code-server

/docs/reference/readme /docs/
/docs/reference/certificates /docs/topics/certificates
/docs/topics/certificates /docs/concepts/certificates
/docs/reference/data-storage /docs/topics/data-storage
/docs/topics/data-storage /docs/concepts/data-storage
/docs/topics/data-storage#backends /docs/concepts/data-storage#backends
/docs/reference/getting-users-identity /docs/topics/getting-users-identity
/docs/topics/getting-users-identity /docs/concepts/getting-users-identity
/docs/reference/production-deployment /docs/topics/production-deployment
/docs/reference/programmatic-access /docs/topics/programmatic-access
/docs/topics/programmatic-access /docs/concepts/programmatic-access
/docs/concepts/programmatic-access /docs/capabilities/programmatic-access

/posts/2020/06/01/release-0-9/ /blog/posts-2020-06-01-release-0-9/
/posts/2020/05/11/release-0-8/ /blog/announcing-pomerium-0-8/
/posts/2020/04/16/release-0-7/ /blog/announcing-pomerium-0-7/

/jobs/ /careers/
/jobs/Frontend-Engineer /careers/frontend-engineer/
/jobs/Backend-Engineer /careers/backend-engineer/

# Redirects enterprise links
/enterprise/ /docs/enterprise
/docs/enterprise /docs/releases/enterprise
/enterprise/service-accounts/ /docs/capabilities/service-accounts
/enterprise/service-accounts /docs/capabilities/service-accounts
/enterprise/prometheus /docs/capabilities/metrics
/docs/enterprise/reference/ /docs/concepts/
/docs/installation /docs/install
/docs/installation /docs/install
/docs/quick-start /docs/install
/docs/quick-start/binary /docs/install/binary
/docs/install/binary /docs/releases/core
/docs/quick-start/helm /docs/k8s/helm
/docs/k8s/helm /docs/guides/helm
/docs/quick-start/from-source /docs/install/from-source
/docs/quick-start/synology /docs/guides/synology
/docs/enterprise/concepts /docs/capabilities/
/docs/enterprise/reference/manage /docs/capabilities/
/docs/enterprise/reference/reports /docs/capabilities/reports
/docs/enterprise/external-data /docs/integrations/
/docs/enterprise/install/helm /docs/guides/helm
/docs/enterprise/branding /docs/capabilities/branding

/docs/client /docs/tcp/client
/docs/topics/tcp-support /docs/tcp/
/docs/tcp /docs/capabilities/tcp
/docs/install/helm /docs/k8s/helm
/docs/k8s/helm /docs/guides/helm
/docs/topics/kubernetes-integration /docs/k8s/
/docs/k8s /docs/deploying/k8s/quickstart

/docs/FAQ /docs/troubleshooting
/docs/troubleshooting /docs/internals/troubleshooting

/docs/glossary /docs/overview/glossary
/docs/overview/glossary /docs/internals/glossary
/docs/releases /docs/overview/releases
/docs/overview/releases /docs/releases
/docs/architecture /docs/overview/architecture
/docs/overview/architecture /docs/internals/architecture
/docs/background /docs/overview/background
/docs/overview/background /docs/concepts/zero-trust
/docs/upgrading /docs/overview/upgrading
/docs/changelog /docs/overview/changelog

/reference/ /docs/reference/
/reference/* /docs/reference/:splat

/guides/ /docs/guides
/guides/* /docs/guides/:splat
/enterprise/ /docs/enterprise/about
/docs/enterprise/about /docs/releases/enterprise
/enterprise/* /docs/enterprise/:splat

/docs/k8s/helm /docs/k8s/quickstart
/docs/k8s/quickstart /docs/deploying/k8s/quickstart

#redirect all the topics to concepts
/docs/topics/* /docs/concepts/:splat 301!
/docs/topics/device-identity /docs/concepts/device-identity
/docs/topics/mutual-auth /docs/concepts/mutual-auth
/docs/topics/original-request-context /docs/concepts/original-request-context
/docs/topics/ppl /docs/concepts/ppl
/docs/topics/load-balancing /docs/concepts/load-balancing
/docs/topics/certificates /docs/concepts/certificates

# redirects k8s links
/docs/k8s/reference /docs/deploying/k8s/reference
/docs/k8s/ingress /docs/deploying/k8s/ingress

# flattened the changelog, and upgrading guide
/docs/overview/upgrading/archive  /docs/overview/upgrading
/docs/overview/changelog/archive  /docs/overview/upgrading
/docs/overview/upgrading /docs/releases/upgrading

# domain
# redirect all the `.io` domains to `com` for latest docs
http://docs.pomerium.io/* https://docs.pomerium.com/:splat 301!
https://docs.pomerium.io/* https://docs.pomerium.com/:splat 301!
https://0-16-0.docs.pomerium.io/ https://0-16-0.docs.pomerium.com/:splat 301!
https://0-15-0.docs.pomerium.io/ https://0-15-0.docs.pomerium.com/:splat 301!
https://0-14-0.docs.pomerium.io/ https://0-14-0.docs.pomerium.com/:splat 301!
https://0-13-0.docs.pomerium.io/ https://0-13-0.docs.pomerium.com/:splat 301!
https://0-12-0.docs.pomerium.io/ https://0-12-0.docs.pomerium.com/:splat 301!
https://0-11-0.docs.pomerium.io/ https://0-11-0.docs.pomerium.com/:splat 301!
https://0-10-0.docs.pomerium.io/ https://0-10-0.docs.pomerium.com/:splat 301!

# proxy old `io` domain archives where new domain membership lives
https://0-16-0.docs.pomerium.com/* https://0-16-0--pomerium-docs.netlify.app/:splat 200
https://0-15-0.docs.pomerium.com/* https://0-15-0--pomerium-docs.netlify.app/:splat 200
https://0-14-0.docs.pomerium.com/* https://0-14-0--pomerium-docs.netlify.app/:splat 200
https://0-13-0.docs.pomerium.com/* https://0-13-0--pomerium-docs.netlify.app/:splat 200
https://0-12-0.docs.pomerium.com/* https://0-12-0--pomerium-docs.netlify.app/:splat 200
https://0-11-0.docs.pomerium.com/* https://0-11-0--pomerium-docs.netlify.app/:splat 200
https://0-10-0.docs.pomerium.com/* https://0-10-0--pomerium-docs.netlify.app/:splat 200

